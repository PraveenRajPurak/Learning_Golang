Middlewares and protected Routes are added.